jQuery(document).ready(function($){if($("#facultyListing").length){var e={valueNames:["name","region","difficulty","research","type"]},a=new List("facultyListing",e),n=function(){var e=new Array,n=new Array,i=new Array;$("input:checkbox[name=region]:checked").each(function(){if($(this).val().indexOf("|")>0){var a=$(this).val().split("|");e=e.concat(a)}else e.push($(this).val())}),$("input:checkbox[name=research]:checked").each(function(){if($(this).val().indexOf("|")>0){var e=$(this).val().split("|");n=n.concat(e)}else n.push($(this).val())}),$("input:checkbox[name=type]:checked").each(function(){if($(this).val().indexOf("|")>0){var e=$(this).val().split("|");i=i.concat(e)}else i.push($(this).val())});var s=n.length>0?n:null,t=e.length>0?e:null,c=i.length>0?i:null;a.filter(function(e){var a,n,i;if(e.values().region.indexOf("|")>0)for(var l=e.values().region.split("|"),o=0;o<l.length;o++)_(t).contains(l[o])&&(n=!0);if(e.values().research.indexOf("|")>0)for(var h=e.values().research.split("|"),r=0;r<h.length;r++)_(s).contains(h[r])&&(a=!0);if(e.values().type.indexOf("|")>0)for(var u=e.values().type.split("|"),r=0;r<u.length;r++)_(c).contains(u[r])&&(i=!0);return(_(t).contains(e.values().region)||!t||n)&&(_(s).contains(e.values().research)||!s||a)&&(_(c).contains(e.values().type)||!c||i)})};a.on("updated",function(){$(".sort").each(function(){$(this).hasClass("asc")?$(this).find(".fa").addClass("fa-sort-alpha-asc").removeClass("fa-sort-alpha-desc").show():$(this).hasClass("desc")?$(this).find(".fa").addClass("fa-sort-alpha-desc").removeClass("fa-sort-alpha-asc").show():$(this).find(".fa").hide()})});var i=[],s=[],t=[];n(),_(a.items).each(function(e){if(e.values().region.indexOf("|")>0){var a=e.values().region.split("|");s=s.concat(a)}else s.push(e.values().region);if(e.values().research.indexOf("|")>0){var a=e.values().research.split("|");i=i.concat(a)}else i.push(e.values().research);if(e.values().type.indexOf("|")>0){var a=e.values().type.split("|");t=t.concat(a)}else t.push(e.values().type)}),_(i).uniq().each(function(e){$(".subdisciplinesContainer").append('<label><input type="checkbox" name="research" value="'+e+'">'+e+"</label>")}),_(s).uniq().each(function(e){$(".regionsContainer").append('<label><input type="checkbox" name="region" value="'+e+'">'+e+"</label>")}),_(t).uniq().each(function(e){$(".sliceanddiceContainer").append('<label><input type="checkbox" name="type" value="'+e+'">'+e+"</label>")}),$(document).off("change","input:checkbox[name=research]"),$(document).on("change","input:checkbox[name=research]",n),$(document).off("change","input:checkbox[name=region]"),$(document).on("change","input:checkbox[name=region]",n),$(document).off("change","input:checkbox[name=type]"),$(document).on("change","input:checkbox[name=type]",n)}});